<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Classes</title>
    <link th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}" rel="stylesheet"/>
</head>
<body class="container mt-4">

<h2>Select Class</h2>

<form method="get" th:action="@{/classes}">
    <div class="mb-3">
        <select name="classId" class="form-select" required>
            <option value="">-- Choose Class --</option>
            <option th:each="c : ${classes}"
                    th:value="${c.id}"
                    th:text="${c.name}">
            </option>
        </select>
    </div>

    <button type="submit" class="btn btn-success">
        View Students
    </button>
</form>

<hr/>

<div th:if="${students != null}">
    <h3 th:text="'Students in ' + ${selectedClass.name}"></h3>

    <table class="table table-bordered mt-3">
        <thead class="table-success">
            <tr>
                <th>ID</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="student : ${students}">
                <td th:text="${student.id}"></td>
                <td th:text="${student.name}"></td>
            </tr>
        </tbody>
    </table>

    <div th:if="${#lists.isEmpty(students)}">
        <p class="text-danger">No students in this class yet.</p>
    </div>
</div>

</body>
</html>
